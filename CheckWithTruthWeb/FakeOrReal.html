<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fake News</title>
</head>
<textarea id="quote" cols="50" rows="5">
Some text here
</textarea>

<div id="output"></div>

<body>
<form onsubmit="FakeOrNews(selectedText)">
    <input type="button" value="click me" onclick="FakeOrNews()" >

</form>

<p id="demo"></p>
<script type="text/javascript">

    function FakeOrNews() {
        var xhr =  new XMLHttpRequest();
        xhr.open('GET', "http://localhost:8080/", true);
        xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
        xhr.setRequestHeader("Access-Control-Allow-Methods", "GET,POST,PUT,DELETE,OPTIONS");
        xhr.setRequestHeader("Access-Control-Allow-Headers", "Content-Type");
        xhr.send();
        console.log('xhr text is : ' + xhr.responseText );
    }

    var quotearea = document.getElementById('quote');
    var output = document.getElementById('output');
    quotearea.addEventListener('mouseup', function(){
        if (this.selectionStart != this.selectionEnd){ // check the user has selected some text inside field
            var selectedtext = this.value.substring(this.selectionStart, this.selectionEnd);
            output.innerHTML = selectedtext;
            alert(selectedtext);
        }
    }, false)


</script>


</body>
</html>

